<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>

  <!-- Icons (Lucide via CDN) -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <link rel="stylesheet" href="https://aprio.krispowers.dev/client/css/build.css" />
</head>
<body>

  <aside class="sidebar" id="sidebar">
    <div class="sidebar-header"> <span class="logo">Dashboard</span> </div>
    <nav class="nav"> 
        <a href="#" class="nav-item active" data-page="overview"> 
          <i data-lucide="panels-top-left"></i> 
          <span>Overview</span> 
        </a> 
        <a href="https://aprio.krispowers.dev/docs" class="nav-item" data-page="docs"> 
          <i data-lucide="book"></i> 
          <span>Documentation</span> 
        </a> 
        <a href="http://localhost:${config.port}/dashboard/pages" class="nav-item" data-page="pages"> 
          <i data-lucide="layout"></i> 
          <span>Pages</span> 
        </a> 
        <a href="http://localhost:${config.port}/dashboard/workers" class="nav-item" data-page="workers"> 
          <i data-lucide="users"></i> 
          <span>Workers</span> 
        </a> 
    </nav>
  </aside>

  <main class="content">

    <section class="analytics-split">

      <header class="analytics-header">
        <h1>Overview</h1>
      </header>

      <div class="analytics-layout">

        <!-- LEFT PANEL -->
        <aside class="analytics-left">

          <!-- KPI -->
          <div class="kpi-group">

            <div class="kpi">
              <div class="kpi-label">Requests</div>
              <div class="kpi-value" id="kpiRequests">0</div>
            </div>

            <div class="kpi">
              <div class="kpi-label">Page Visits</div>
              <div class="kpi-value" id="kpiVisits">0</div>
            </div>

            <div class="kpi kpi-hidden">
              <div class="kpi-label">
                Hidden Requests
                <span class="info-icon" tabindex="0">
                  <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-info-icon lucide-info"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>
                </span>
              </div>
              <div class="kpi-value danger" id="kpiHidden">0</div>

              <div class="info-popover">
                Hidden requests include health checks, internal polling,
                bot mitigation, and system-level traffic not tied to page views.
              </div>
            </div>

          </div>

          <!-- Tables -->
          <div class="data-section">
            <h3>Top Paths</h3>
            <table class="analytics-table">
              <tbody id="pathsTable"></tbody>
            </table>
          </div>

          <div class="data-section">
            <h3>Operating Systems</h3>
            <table class="analytics-table">
              <tbody id="osTable"></tbody>
            </table>
          </div>

          <div class="data-section">
            <h3>Browsers</h3>
            <table class="analytics-table">
              <tbody id="browserTable"></tbody>
            </table>
          </div>

          <div class="powered">
            Learn about the <a href="google.com" target="_blank">dependencies</a> that power this overivew
          </div>

        </aside>

        <section class="request-logs-layout">
            <!-- LEFT: LOG LIST --> 
          <aside class="log-list" id="logList">
          <!-- Logs injected by JS --> 
          </aside>
          <div class="log-detail" id="logDetail">
            <p class="empty-state">Select a request to view details</p>
          </div>
        </section>

      </div>

    </section>
    
  </main>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="./js/static.js"></script>
  
</body>
</html>
